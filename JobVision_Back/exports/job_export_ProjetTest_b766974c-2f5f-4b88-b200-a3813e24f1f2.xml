<joblist>
  <job>
    <context>
      <options preserveOrder='true'>
        <option name='option' required='true' value='guest' />
      </options>
    </context>
    <description></description>
    <dispatch>
      <excludePrecedence>true</excludePrecedence>
      <keepgoing>true</keepgoing>
      <rankOrder>ascending</rankOrder>
      <successOnEmptyNodeFilter>false</successOnEmptyNodeFilter>
      <threadcount>1</threadcount>
    </dispatch>
    <executionEnabled>true</executionEnabled>
    <id>b766974c-2f5f-4b88-b200-a3813e24f1f2</id>
    <loglevel>INFO</loglevel>
    <name>Say Hello With Option</name>
    <nodeFilterEditable>true</nodeFilterEditable>
    <nodefilters>
      <filter>name:node-remote-max,node-remote-toky,node-remote-jean</filter>
    </nodefilters>
    <nodesSelectedByDefault>true</nodesSelectedByDefault>
    <plugins />
    <scheduleEnabled>true</scheduleEnabled>
    <sequence keepgoing='true' strategy='node-first'>
      <command>
        <description>Say Hello</description>
        <script><![CDATA[#!/bin/bash

# V�rifier que l'option NAME est fournie
if [ -z "${option.NAME}" ]; then
  echo "Erreur : aucun nom fourni !"
  echo "Usage : saisir l'option NAME"
  exit 1
fi

echo "D�but du job pour ${option.NAME}"

# Pause 2 secondes
sleep 2

# G�n�rer le fichier texte
OUTPUT_FILE="hello_${option.NAME}.txt"
echo "Bonjour, ${option.NAME} ! Ceci est votre fichier g�n�r� par le workflow Rundeck." > "$OUTPUT_FILE"

echo "Fichier cr�� : $OUTPUT_FILE"
echo "Fin du job"
]]></script>
        <scriptargs />
      </command>
    </sequence>
    <uuid>b766974c-2f5f-4b88-b200-a3813e24f1f2</uuid>
  </job>
</joblist>